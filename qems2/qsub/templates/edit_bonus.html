{% extends "base.html" %}

{% block header %}
{% include "header.html" %}
{% endblock %}

{% block sidebar %}
{% include "sidebar.html" %}
{% endblock %}

{% load comments %}

{% block content %}
<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 text-left">
    <ol class="breadcrumb">
        <li><a href="/edit_question_set/{{ qset.id }}">{{ qset }}</a></li>
        {% if packet %}
        <li><a href="/edit_packet/{{ packet.id }}">{{ packet }}</a></li>
        {% endif %}
        {% if bonus %}
        <li><a href="/edit_bonus/{{ bonus.id }}">{{ bonus }}</a></li>
        {% endif %}
    </ol>
    <h2 class="page-header">Edit Bonus</h2>
    {% if message %}
    <p class="{{ message_class }}">{{ message }}</p>
    {% endif %}
    <div class="col-md-10">
        <form action="" method="post" class="form-horizontal">
            {% csrf_token %}
            {% if not read_only %}
            {% if form %}
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.leadin.id_for_label }}">Leadin</label>
                    <div class="col-lg-8">
                        {{ form.leadin }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.part1_text.id_for_label }}">Part 1</label>
                    <div class="col-lg-8">
                        {{ form.part1_text }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.part1_answer.id_for_label }}">Answer 1</label>
                    <div class="col-lg-8">
                        {{ form.part1_answer }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.part2_text.id_for_label }}">Part 2</label>
                    <div class="col-lg-8">
                        {{ form.part2_text }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.part2_answer.id_for_label }}">Answer 2</label>
                    <div class="col-lg-8">
                        {{ form.part2_answer }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.part3_text.id_for_label }}">Part 3</label>
                    <div class="col-lg-8">
                        {{ form.part3_text }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.part3_answer.id_for_label }}">Answer 3</label>
                    <div class="col-lg-8">
                        {{ form.part3_answer }}
                    </div>
                </div>

                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="author">Bonus Author</label>
                    <div class="col-lg-8">
                        {% if bonus %}
                        <p id="author">{{ bonus.author }}</p>
                        {% endif %}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.category.id_for_label }}">Category</label>
                    <div class="col-lg-8">
                        {{ form.category }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.packet.id_for_label }}">Packet</label>
                    <div class="col-lg-8">
                        {{ form.packet }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.edited.id_for_label }}">Edited</label>
                    <div class="col-lg-8">
                        {{ form.edited }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.locked.id_for_label }}">Locked</label>
                    <div class="col-lg-8">
                        {{ form.locked }}
                    </div>
                </div>
                <div class="form-group col-md-10">
                    <label class="control-label col-sm-2" for="{{ form.question_type.id_for_label }}">Question Type</label>
                    <div class="col-lg-8">
                        {{ form.question_type }}
                    </div>
                </div>
            {% endif %}
                <div class="form-group col-md-10">
                    <label class="control-label col-lg-2" for="submit-tossup">&nbsp;</label>
                    <div class="col-lg-8">
                        <input type="submit" class="form-control" id="submit-tossup" value="Save"/>
                    </div>
                </div>
            {% else %}
            {% if bonus %}
            <p>{{ bonus.leadin | safe }}</p>
            <p>[10] {{ bonus.part1_text | safe }}</p>
            <p>ANSWER: {{ bonus.part1_answer | safe }}</p>
            <p>[10] {{ bonus.part2_text | safe }}</p>
            <p>ANSWER: {{ bonus.part2_answer | safe }}</p>
            <p>[10] {{ bonus.part3_text | safe }}</p>
            <p>ANSWER: {{ bonus.part3_answer | safe }}</p>
            {% endif %}
            {% endif %}
        </form>
    </div>
    {% if bonus %}
    <div class="col-md-10 alert alert-info" style="text-align: center"><strong>Comments</strong></div>
    <div class="comments col-md-6">
        {% render_comment_list for bonus %}
        {% get_comment_form for bonus as cform %}
        <form action="{% comment_form_target %}" method="POST">
            {% csrf_token %}
            {{ cform.comment.label_tag }}
            <textarea cols="40" rows="10" id="{{ cform.comment.id_for_label }}"
                      name="{{ cform.comment.html_name }}" class="form-control">
            </textarea>
            {{ cform.honeypot }}
            {{ cform.content_type }}
            {{ cform.object_pk }}
            {{ cform.timestamp }}
            {{ cform.security_hash }}
            <input type="submit" name="submit" value="Post" class="btn btn-primary">
            <!--<input type="submit" name="preview" value="Preview" class="btn btn-primary">-->
            <input type="hidden" name="next" value="/edit_bonus/{{ bonus.id }}/">
        </form>
    </div>
    {% endif %}
</div>

{% endblock %}
